---
layout:     post
title:      "阿里校招 二面面经"
date:       2018-04-03 22:00:00
author:     "yuhai"
tags:
    - 生活
    - 技术
---

在经历完一面，一轮在线编程，就等着二面了。当我已经躺在床上准备刷刷知乎就打算睡觉的时候，突然一个陌生电话打来，这个应该就是阿里二面的电话，瞬间坐起跑到阳台接起电话。  

---

### 正式面试二面
1. **简单自我介绍下吧**  
这个跟一面讲的差不多，大致讲了一下自己的技术栈，讲了一些关于自己所在的学校的工作室的相关事情。  
2. **Java8 的新特性**  
这里是面试的小哥哥问我平时开发用什么版本的jdk，然后我说是使用java8，面试官就直接问我java8特性了。我当时只答了一个lambda表达式，就是箭头函数，匿名类可以通过lambda表达式来实现。然后还有twr（try-with-resources），可以通过声明资源的try语句块，可以确保在程序结束的时候资源会被关闭。  
> twr后来查证是Java7的新特性。  
[【Java8的新特性】](http://www.oracle.com/technetwork/java/javase/8-whats-new-2157071.html) 
[【Java9的新特性】](https://docs.oracle.com/javase/9/whatsnew/toc.htm#JSNEW-GUID-C23AFD78-C777-460B-8ACE-58BE5EA681F6) 
[【Java10的新特性】](http://www.oracle.com/technetwork/java/javase/10-relnotes-4108314.html)  
Java8的主要几个新特性是Lambda表达式、方法引用、Stream API、Date Time API等等。  

3. **你之前写的项目里面有遇到什么挑战吗**  
公众号后台写爬虫获取学生成绩，假期的时候出现较大的并发访问，大家都在查成绩。这个时候我就是通过后台启动多个线程不间断通过绑定的学生账号去获取成绩，更新到Redis数据库里。同学查成绩的时候就是直接从redis中取获取，就能抗下压力。取代了之前直接一个请求就去查询一次的方式。  
4. **跨域问题是怎么解决的**    
因为之前说到自己在搭了一个简单的前后端分离的玩具项目，面试官就问了跨域的解决方法。之前用过JSONP，不过这个方法只能允GET请求，还有就是在controller里面手动给请求加头。后来我使用Springboot框架之后，里面有一个@CrossOrigin的注解，可以运行所有跨域访问，也可以单独指定服务器。  
5. **HTTP协议了解过吗？HTTP1.0 2.0的区别**  
不好意思，这块没有了解过。
> 这块我是真的没学过，惭愧惭愧，等学了之后会补坑。  
6. **SpringMVC与SpringBoot的区别**  
Springboot相较SpringMVC配置更加简单，支持通过注解的形式来创建Bean和配置。Springboot内置了Tomcat可以直接打包成jar之后指定好端口就可以直接运行，省去配置Tomcat的过程。
> 答得比较浅，都是我使用过程中的直观感受。  
7. **GET和POST的区别**
这块我是从之前前后端分离的时候Restful的接口规范上答的，post是添加新建的api请求，get往往是获取指定资源的请求。get会显示的将参数显示在url里，然后因为浏览器的问题，get的url长度有限，意味着参数长度有限。
> 
请求方法 | GET | POST 
---|---|---
后退/刷新|无害数据会被重新提交
书签|可收藏为书签|不可收藏为书签
缓存|能被缓存|不能缓存
编码类型|application/x-www-form-urlencoded|application/x-www-form-urlencoded 或 multipart/form-data。为二进制数据使用多重编码。
历史|参数保留在浏览器历史中。|参数不会保存在浏览器历史中。
数据长度的限制|GET方法向URL添加数据；URL 的长度是受限制的（URL 的最大长度是 2048 个字符）。|无限制。
数据类型的限制|只允许 ASCII 字符。|没有限制。也允许二进制数据。
安全性|与 POST 相比，GET 的安全性较差，因为所发送的数据是 URL 的一部分。|POST 比 GET 更安全,因为参数不会被保存在浏览器历史或 web 服务器日志中。
可见性|数据在 URL 中对所有人都是可见的。|数据不会显示在 URL 中。  
> 
> [GET 对比 POST](http://www.w3school.com.cn/tags/html_ref_httpmethods.asp)  

8. **volatile关键字用过吗**  
volatile变量是对线程可见的，因为在原有的机制中，在主存的变量在线程中使用时会建立线程的变量副本，这个时候就可能会出现数据不统一的问题。volatile变量在被改变时会通知到各个线程，每个线程要使用的时候都会从主存中再次读取数据。而且volatile没有加锁，所以这是个比较轻量的同步机制。  
9. **乐观锁和悲观锁**  
乐观锁和悲观锁在我的理解中是一种思想，悲观锁是认为我在并发时往往会发生问题，所以需要对整段数据进行加锁。而乐观锁就是持乐观态度，认为并发不会出错，他的并发控制不使用锁，而是通过类似于版本号的方式来同步，出现写数据时候，就将要写的和已有的数据版本进行比较然后交换。CAS也是乐观锁的实现方法，涉及内存值、预期值、新值，只有内存制和预期值相等，即我在我修改的之前没有线程修改过，我才可以将新值写入，但是这可能会出现ABA问题，而版本号可以解决ABA问题。  
10. **ABA问题说明下**  
就是刚才CAS方法，因为在我比较预期值和内存值得时候可能出现问题，内存值是A，预期值是A，但是内存其实经历了A变成B,B又变成A的过程，但是在宏观上看不出问题，但是实际上已经有数据变动。  
11. **String、StringBuffer、StringBuilder区别**  
String是常量，创建之后就不可变。StringBuffer、StringBuilder通过缓冲区可以变化，而Builder线程不安全，但修改速度最快，Buffer线程安全，但性能差于Builder。  
12. **数据库怎么插入数据后立马返回自增的id**  
我框架上用的JPA，JPA中有SAVE方法，插入新的数据后会返回实体对象，里面可以直接通过getId获取id。
> 然后要求我原生sql语句一句实现插入返回id，并没有回答出来。  
13. **怎么去学习新技术的**  
平时看工作室成员的博客，每周技术分享会。最近一周学习了api如何防止重放攻击，通过在请求中带上随机数和时间戳来实现。在最近的分享会上给学弟学妹分享数据库优化心得。  

整场面试下来，相较于一面略微感觉到难度有点提升，也是很多原理性的东西没学到精髓，有的时候有点依赖于框架。不过也算是顺利通过了，接下来就是三面技术面了，如果顺利的话应该就是最后一场技术面了，继续加油！